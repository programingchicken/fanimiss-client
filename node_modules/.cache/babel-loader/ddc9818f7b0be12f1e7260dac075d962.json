{"ast":null,"code":"var _jsxFileName = \"/Users/gabrielpowers/Desktop/animeDropShip/src/components/Context.js\";\nimport React, { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Data from './Data';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/React.createContext();\nexport class Provider extends Component {\n  constructor() {\n    //cookies\n    super();\n\n    this.signIn = async (emailAddress, password) => {\n      console.log(password); //gets user\n\n      const user = await this.data.getUser(emailAddress, password);\n\n      if (user !== null) {\n        //sets state\n        this.setState(() => {\n          return {\n            authenticatedUser: user,\n            hashPass: password\n          };\n        });\n        const cookieOptions = {\n          expires: 1 // 1 day\n\n        }; //cookies set\n\n        Cookies.set('authenticatedUser', JSON.stringify(user), cookieOptions);\n        Cookies.set('hashPass', password, cookieOptions);\n      }\n\n      return user;\n    };\n\n    this.signOut = () => {\n      this.setState({\n        authenticatedUser: null\n      });\n      Cookies.remove('authenticatedUser');\n      this.setState({\n        hashPass: null\n      });\n      Cookies.remove('hashPass');\n    };\n\n    this.data = new Data();\n    this.cookie = Cookies.get('authenticatedUser');\n    this.newCookie = Cookies.get('hashPass'); //org state\n\n    this.state = {\n      authenticatedUser: this.cookie ? JSON.parse(this.cookie) : null,\n      hashPass: this.newCookie ? this.newCookie : null\n    };\n  } //props\n\n\n  render() {\n    const {\n      authenticatedUser\n    } = this.state;\n    const {\n      hashPass\n    } = this.state;\n    const value = {\n      authenticatedUser,\n      data: this.data,\n      hashPass,\n      actions: {\n        signIn: this.signIn,\n        signOut: this.signOut\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(Context.Provider, {\n      value: value,\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  } //sign in func\n\n\n} // newCourse = async (courses) => {\n//   const course = await this.data.createCourse(courses);\n//   if (course !== null) {\n//       return course;\n//   }\n// }\n\nexport const Consumer = Context.Consumer;\n/**\n * A higher-order component that wraps the provided component in a Context Consumer component.\n * @param {class} Component - A React component.\n * @returns {function} A higher-order component.\n */\n\nexport default function withContext(Component) {\n  return function ContextComponent(props) {\n    return /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: context => /*#__PURE__*/_jsxDEV(Component, { ...props,\n        context: context\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this);\n  };\n}","map":{"version":3,"names":["React","Component","Cookies","Data","Context","createContext","Provider","constructor","signIn","emailAddress","password","console","log","user","data","getUser","setState","authenticatedUser","hashPass","cookieOptions","expires","set","JSON","stringify","signOut","remove","cookie","get","newCookie","state","parse","render","value","actions","props","children","Consumer","withContext","ContextComponent","context"],"sources":["/Users/gabrielpowers/Desktop/animeDropShip/src/components/Context.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Data from './Data';\nconst Context = React.createContext(); \n\n\n\n\nexport class Provider extends Component {\n\n  constructor() {\n    //cookies\n    super();\n    this.data = new Data();\n    this.cookie = Cookies.get('authenticatedUser');\n    this.newCookie = Cookies.get('hashPass');\n\n\n    //org state\n    this.state = {\n      authenticatedUser: this.cookie ? JSON.parse(this.cookie) : null,\n      hashPass: this.newCookie ? this.newCookie : null,\n    };\n  }\n\n\n  //props\n  render() {\n    const { authenticatedUser } = this.state;\n    const {hashPass} = this.state;\n    const value = {\n      authenticatedUser,\n      data: this.data,\n      hashPass,\n      actions: {\n        signIn: this.signIn,\n        signOut: this.signOut\n      },\n    };\n    return (\n      <Context.Provider value={value}>\n        {this.props.children}\n      </Context.Provider>  \n    );\n  }\n\n  //sign in func\n  signIn = async (emailAddress, password) => {\n\n    console.log(password)\n\n    //gets user\n    const user = await this.data.getUser(emailAddress, password);\n    if (user !== null) {\n\n      //sets state\n      this.setState(() => {\n        return {\n          authenticatedUser: user,\n          hashPass: password,\n        };\n      });\n      const cookieOptions = {\n        expires: 1 // 1 day\n      };\n\n      //cookies set\n      Cookies.set('authenticatedUser', JSON.stringify(user), cookieOptions);\n      Cookies.set('hashPass', password, cookieOptions);\n    }\n    return user;\n  }\n\n\n  //signOut func\n  signOut = () => {\n    this.setState({ authenticatedUser: null });\n    Cookies.remove('authenticatedUser');\n    this.setState({ hashPass: null });\n    Cookies.remove('hashPass');\n  }\n}\n\n  // newCourse = async (courses) => {\n  //   const course = await this.data.createCourse(courses);\n  //   if (course !== null) {\n  //       return course;\n  //   }\n  // }\n\nexport const Consumer = Context.Consumer;\n\n/**\n * A higher-order component that wraps the provided component in a Context Consumer component.\n * @param {class} Component - A React component.\n * @returns {function} A higher-order component.\n */\n\nexport default function withContext(Component) {\n  return function ContextComponent(props) {\n    return (\n      <Context.Consumer>\n        {context => <Component {...props} context={context} />}\n      </Context.Consumer>\n    );\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}